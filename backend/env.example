# ============================================================================
# AgriFinSight Backend Environment Variables
# ============================================================================
# Copy this file to .env and update with your actual credentials
# NEVER commit the .env file to version control!
# ============================================================================

# ----------------------------------------------------------------------------
# Application Settings
# ----------------------------------------------------------------------------
APP_NAME=AgriFinSight API
APP_VERSION=1.0.0
APP_ENV=development  # development, staging, production
DEBUG=true
HOST=0.0.0.0
PORT=8000

# CORS Origins (comma-separated list)
CORS_ORIGINS=http://localhost:3000,http://localhost:5173,http://127.0.0.1:3000

# ----------------------------------------------------------------------------
# Database Configuration
# ----------------------------------------------------------------------------
# PostgreSQL Database
DATABASE_URL=postgresql://agrifinsight_user:your_secure_password@localhost:5432/agrifinsight
DATABASE_HOST=localhost
DATABASE_PORT=5432
DATABASE_NAME=agrifinsight
DATABASE_USER=agrifinsight_user
DATABASE_PASSWORD=your_secure_password

# Database Pool Settings
DATABASE_POOL_SIZE=20
DATABASE_MAX_OVERFLOW=10

# ----------------------------------------------------------------------------
# Redis Configuration (for caching and sessions)
# ----------------------------------------------------------------------------
REDIS_URL=redis://localhost:6379/0
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0
CACHE_TTL=3600  # Cache time-to-live in seconds

# ----------------------------------------------------------------------------
# JWT Authentication
# ----------------------------------------------------------------------------
# Generate a secure secret key: python -c "import secrets; print(secrets.token_urlsafe(32))"
SECRET_KEY=your-super-secret-key-change-in-production-minimum-32-chars
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7

# ----------------------------------------------------------------------------
# File Storage
# ----------------------------------------------------------------------------
UPLOAD_DIR=uploads
MAX_FILE_SIZE=10485760  # 10MB in bytes
ALLOWED_FILE_TYPES=["image/jpeg", "image/png", "image/jpg", "image/webp"]

# AWS S3 (Optional - for production file storage)
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
AWS_S3_BUCKET=
AWS_REGION=us-east-1

# ----------------------------------------------------------------------------
# External API Keys - Weather & Climate
# ----------------------------------------------------------------------------

# OpenWeatherMap API (for real-time weather and forecasts)
# Get your free API key: https://openweathermap.org/api
OPENWEATHER_API_KEY=your_openweathermap_api_key_here
OPENWEATHER_API_URL=https://api.openweathermap.org/data/2.5

# NASA POWER API (for historical climate data - FREE, no key needed)
# Documentation: https://power.larc.nasa.gov/docs/
NASA_API_KEY=DEMO_KEY  # No registration required for basic usage

# ----------------------------------------------------------------------------
# External API Keys - Satellite & Geospatial
# ----------------------------------------------------------------------------

# Sentinel Hub (Optional - for high-resolution satellite imagery)
# Get API key: https://www.sentinel-hub.com/
SENTINEL_HUB_CLIENT_ID=
SENTINEL_HUB_CLIENT_SECRET=
SENTINEL_HUB_INSTANCE_ID=

# Google Earth Engine (Optional - for advanced satellite analysis)
# Apply for access: https://earthengine.google.com/
GEE_SERVICE_ACCOUNT=
GEE_PRIVATE_KEY_PATH=

# Planet Labs (Optional - for very high-resolution imagery)
# Get API key: https://www.planet.com/
PLANET_API_KEY=

# ----------------------------------------------------------------------------
# External API Keys - Soil & Elevation
# ----------------------------------------------------------------------------

# SoilGrids API (FREE - no key required)
# Documentation: https://rest.isric.org/
SOILGRIDS_API_URL=https://rest.isric.org/soilgrids/v2.0

# Open Elevation API (FREE - no key required)
# Documentation: https://open-elevation.com/
ELEVATION_API_URL=https://api.open-elevation.com/api/v1

# ----------------------------------------------------------------------------
# External API Keys - Geocoding
# ----------------------------------------------------------------------------

# OpenStreetMap Nominatim (FREE - no key required, but rate limited)
# Please respect usage policy: https://operations.osmfoundation.org/policies/nominatim/
NOMINATIM_API_URL=https://nominatim.openstreetmap.org
NOMINATIM_USER_AGENT=AgriFinSight/1.0

# Google Maps API (Optional - for better geocoding, requires billing)
# Get API key: https://developers.google.com/maps
GOOGLE_MAPS_API_KEY=

# ----------------------------------------------------------------------------
# AI/ML Configuration
# ----------------------------------------------------------------------------
MODEL_PATH=ai/models
CROP_RECOMMENDATION_MODEL=crop_recommendation_model.pth
DISEASE_DETECTION_MODEL=best_model.pth
CONFIDENCE_THRESHOLD=0.7

# ML Model Settings
USE_GPU=false  # Set to true if CUDA is available
MODEL_BATCH_SIZE=32
MAX_PREDICTION_TIME=30  # seconds

# ----------------------------------------------------------------------------
# Email Configuration (for notifications)
# ----------------------------------------------------------------------------
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your_email@gmail.com
SMTP_PASSWORD=your_app_specific_password
SMTP_FROM=noreply@agrifinsight.com
SMTP_TLS=true

# ----------------------------------------------------------------------------
# Monitoring & Logging
# ----------------------------------------------------------------------------
LOG_LEVEL=INFO  # DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_FILE=logs/agrifinsight.log
ENABLE_SENTRY=false
SENTRY_DSN=

# ----------------------------------------------------------------------------
# API Rate Limiting
# ----------------------------------------------------------------------------
RATE_LIMIT_ENABLED=true
RATE_LIMIT_PER_MINUTE=60
RATE_LIMIT_PER_HOUR=1000

# ----------------------------------------------------------------------------
# Feature Flags
# ----------------------------------------------------------------------------
ENABLE_SATELLITE_AUTO_FETCH=true  # Auto-fetch satellite data on farm creation
ENABLE_ML_RECOMMENDATIONS=true    # Use ML model for crop recommendations
ENABLE_EMAIL_NOTIFICATIONS=false  # Send email notifications to users
ENABLE_BACKGROUND_JOBS=false      # Enable periodic background tasks

# ----------------------------------------------------------------------------
# Development & Testing
# ----------------------------------------------------------------------------
TESTING=false
TEST_DATABASE_URL=postgresql://test_user:test_password@localhost:5432/agrifinsight_test

# ----------------------------------------------------------------------------
# Notes
# ----------------------------------------------------------------------------
# FREE APIs (No key required):
# - NASA POWER API (historical climate)
# - SoilGrids API (soil composition)
# - Open Elevation API (terrain elevation)
# - OpenStreetMap Nominatim (geocoding)
#
# APIs requiring free registration:
# - OpenWeatherMap (weather forecasts)
#
# Optional premium APIs:
# - Sentinel Hub (high-res satellite)
# - Google Earth Engine (advanced analysis)
# - Planet Labs (very high-res imagery)
# - Google Maps API (better geocoding)
# ============================================================================
